# 离线笔记应用功能描述

## 整体布局设计

### 主布局（Layout）
- 左侧边栏
  - 默认展开状态（宽度：280px）
  - 收起状态（宽度：64px）
  - 展开/收起切换按钮
  - 收起状态下显示图标和工具提示
  - 支持快捷键切换（Ctrl + B）
  - 支持拖拽调整宽度（展开状态）
  - 内容：
    - 用户头像和基本信息
    - 笔记目录树形结构
    - 底部工具栏（新建笔记、设置等）

- 右侧主内容区
  - 顶部导航栏（面包屑导航、搜索框、工具栏）
  - 内容展示区
  - 自适应左侧边栏状态

### 左侧边栏交互
1. 展开/收起状态
   - 展开状态：显示完整信息
     - 用户头像和名称
     - 完整的目录树
     - 带文字的工具栏按钮
   - 收起状态：显示精简信息
     - 仅显示用户头像
     - 仅显示目录图标
     - 仅显示工具栏图标
     - 鼠标悬停时显示工具提示

2. 状态切换
   - 点击切换按钮
   - 使用快捷键（Ctrl + B）
   - 双击分隔线
   - 拖拽分隔线（展开状态）

3. 状态记忆
   - 记住用户的最后选择
   - 支持全局设置默认状态
   - 支持不同设备独立设置

### 笔记目录树
- 支持多层级目录结构
- 每个目录节点可展开/折叠
- 支持拖拽调整目录层级
- 右键菜单功能：
  - 新建笔记
  - 新建子目录
  - 重命名
  - 删除
  - 移动位置

### 笔记列表视图
- 网格视图
  - 笔记卡片展示
  - 显示标题、预览内容、标签、创建时间
  - 支持拖拽排序
- 列表视图
  - 紧凑型列表展示
  - 显示标题、标签、创建时间、更新时间

### 笔记编辑页面
- 顶部工具栏
  - 返回按钮
  - 标题输入框
  - 保存状态
  - 字数统计
- 标签管理区
  - 显示当前笔记标签
  - 添加/删除标签
- 富文本编辑器
  - 支持 Markdown
  - 支持图片上传
  - 支持代码高亮
  - 支持数学公式
- 右侧大纲导航
  - 显示文档结构
  - 快速跳转

## 核心功能

### 笔记管理
1. 创建笔记
   - 支持选择父目录
   - 支持设置初始标签
   - 支持导入 Markdown 文件

2. 编辑笔记
   - 实时自动保存
   - 版本历史记录
   - 支持导出为多种格式

3. 删除笔记
   - 支持移动到回收站
   - 支持永久删除
   - 支持批量操作

### 目录管理
1. 创建目录
   - 支持多层级
   - 支持设置目录图标
   - 支持目录描述

2. 目录操作
   - 重命名
   - 移动位置
   - 合并目录
   - 删除（包含子目录）

### 标签系统
1. 标签管理
   - 创建标签
   - 设置标签颜色
   - 删除标签
   - 标签重命名

2. 标签使用
   - 为笔记添加标签
   - 按标签筛选笔记
   - 标签云展示

### 搜索功能
1. 全文搜索
   - 支持标题搜索
   - 支持内容搜索
   - 支持标签搜索
   - 支持目录搜索

2. 高级搜索
   - 按时间范围
   - 按标签组合
   - 按目录位置
   - 按创建者

### 数据管理
1. 数据导入
   - 支持导入 Markdown 文件
   - 支持导入目录结构
   - 支持导入标签

2. 数据导出
   - 支持导出为 Markdown
   - 支持导出为 PDF
   - 支持导出为 HTML
   - 支持导出为纯文本

3. 数据备份
   - 自动备份
   - 手动备份
   - 备份恢复

### 设置功能
1. 外观设置
   - 主题切换
   - 字体设置
   - 布局调整

2. 编辑器设置
   - 自动保存间隔
   - 默认编辑器模式
   - 快捷键自定义

3. 数据设置
   - 备份设置
   - 存储位置
   - 清理选项

